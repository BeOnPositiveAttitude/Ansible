# проблемы с подключением включают в себя следующие:
# проблемы с установкой физического подключения
# проблемы с запуском тасок под целевым пользователем

# анализ проблем с аутентификацией:
# проверьте настройку remote_user и наличие удаленного пользователя на управляемом хосте
# проверьте установку ssh-ключей
# проверьте параметры become и become_user
# проверьте что sudo настроено корректно

# подключение к управляемым хостам:
# когда хост доступен под разными IP-адресами/именами, вы можете использовать ansible_host в инвентаре для того, чтобы задать как именно подключаться
# это обеспечит устойчивую установку соединения, используя правильный интерфейс
# web.example.com ansible_host=192.168.4.100

# использование Ad Hoc команд для тестирования подключения
# модуль ping был разработан для тестирования подключения
# используйте опцию --become для тестирования privilege escalation
ansible node1 -m ping
ansible node1 -m ping --become
# используйте модуль command для тестирования различных сценариев
ansible node1 -m command -a 'df'
ansible node1 -m command -a 'free -m'
