# plays выполняются по порядку на всех указанных хостах и обычно Ansible запустит следующую таску, если текущая таска успешно выполнилась на всех управляемых хостах
# Ansible может запускаться одновременно на нескольких управляемых хостах, но максимальное значение одновременных хостов по умолчанию ограничено 5
# установите forks = n в ansible.cfg для изменения максимального количества одновременных хостов
# еще вариант, используйте -f nn чтобы определить максимальное количество форков в виде аргумента в ansible[-playbook] командах
# значение по умолчанию равное 5 очень ограничено, вы можете задать значение этого параметра намного больше, особенно если большая часть работы выполняется на управляемых хостах, а не на управляющей ноде (в случае управления например сетевыми железками скрипты выполняются на управляющей ноде, что может привести к высокой нагрузке на хост)

# дефолтное поведение запуска одной таски на всех хостах и дальнейший переход к следующей таске означает, что в кластерном окружении вы можете временно сделать недоступными все ноды кластера
# используйте ключевое слово serial в плейбуке для запуска play на хостах в виде batches