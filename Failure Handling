# ansible смотрит на exit status таски, чтобы определить ее успех или провал
# когда какая-либо таска провалилась, ansible отменяет выполнение play на этом хосте и переходит к следующему хосту
# различные решения могут быть использованы чтобы изменить поведение описанное выше
# используйте ignore_errors в таске чтобы игнорировать фейл и продолжить выполнение следующих тасок
# используйте force_handlers чтобы вызвать запуск handler даже если таска провалена
# т.к. ansible смотрит на exit status проваленной таски, он может подумать что ее выполнение успешно, даже если это на самом деле не так
# чтобы быть более точным, используйте failed_when чтобы определить на что именно смотреть в выводе output, чтобы определить фейл
# управление статусом "changed" может быть важным, т.к. handlers вызываются при изменении статуса на changed
# результат выполнения команды может быть записан в переменную и эта переменная может быть просканирована на наличие специфического текста, чтобы понять изменился ли статус на changed
# это позволяет ansible "отдать" статус changed, когда в обычном случае этого бы не произошло, и таким образом спровоцировать выполнение handler